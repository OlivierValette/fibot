
fibot (update) on 2019-05-12 22:04:01
fund list:
{'id': 1, 'isin': 'FR0000284689', 'fin_id': 8, 'source_id': 2, 'code': '15111'}
{'id': 1, 'isin': 'FR0000284689', 'fin_id': 7, 'source_id': 1, 'code': 'F0GBR04QCM'}
{'id': 2, 'isin': 'LU0099574567', 'fin_id': 10, 'source_id': 2, 'code': '26195'}
{'id': 2, 'isin': 'LU0099574567', 'fin_id': 9, 'source_id': 1, 'code': 'F0GBR04D20'}
{'id': 3, 'isin': 'FR0010135103', 'fin_id': 12, 'source_id': 2, 'code': '9362'}
{'id': 3, 'isin': 'FR0010135103', 'fin_id': 11, 'source_id': 1, 'code': 'F0GBR04F90'}
{'id': 4, 'isin': 'LU0106959298', 'fin_id': 15, 'source_id': 1, 'code': 'F0GBR04ASN'}
{'id': 4, 'isin': 'LU0106959298', 'fin_id': 16, 'source_id': 2, 'code': '27160'}
{'id': 5, 'isin': 'FR0000292278', 'fin_id': 18, 'source_id': 2, 'code': '15112'}
{'id': 5, 'isin': 'FR0000292278', 'fin_id': 17, 'source_id': 1, 'code': 'F0GBR04QCJ'}
{'id': 7, 'isin': 'FR0010902726', 'fin_id': None, 'source_id': None, 'code': None}
{'id': 8, 'isin': 'FR0010588343', 'fin_id': None, 'source_id': None, 'code': None}
source list:
{'id': 1, 'name': 'morningstar', 'search_url': 'http://www.morningstar.fr/fr/funds/SecuritySearchResults.aspx?search=', 'fund_url': 'http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id='}
{'id': 2, 'name': 'quantalys', 'search_url': 'http://www.quantalys.com/search/listefonds.aspx?autobind=1&autoredirect=1&ISINorNom=', 'fund_url': 'http://www.quantalys.com/Fonds/'}
updated funds list:
{'id': 1, 'isin': 'FR0000284689', 'fin_id': 7, 'source_id': 1, 'code': 'F0GBR04QCM'}
{'id': 1, 'isin': 'FR0000284689', 'fin_id': 8, 'source_id': 2, 'code': '15111'}
{'id': 2, 'isin': 'LU0099574567', 'fin_id': 9, 'source_id': 1, 'code': 'F0GBR04D20'}
{'id': 2, 'isin': 'LU0099574567', 'fin_id': 10, 'source_id': 2, 'code': '26195'}
{'id': 3, 'isin': 'FR0010135103', 'fin_id': 11, 'source_id': 1, 'code': 'F0GBR04F90'}
{'id': 3, 'isin': 'FR0010135103', 'fin_id': 12, 'source_id': 2, 'code': '9362'}
{'id': 4, 'isin': 'LU0106959298', 'fin_id': 15, 'source_id': 1, 'code': 'F0GBR04ASN'}
{'id': 4, 'isin': 'LU0106959298', 'fin_id': 16, 'source_id': 2, 'code': '27160'}
{'id': 5, 'isin': 'FR0000292278', 'fin_id': 17, 'source_id': 1, 'code': 'F0GBR04QCJ'}
{'id': 5, 'isin': 'FR0000292278', 'fin_id': 18, 'source_id': 2, 'code': '15112'}
{'id': 7, 'isin': 'FR0010902726', 'fin_id': 19, 'source_id': 1, 'code': 'F00000LHJS'}
{'id': 7, 'isin': 'FR0010902726', 'fin_id': 20, 'source_id': 2, 'code': '131744'}
{'id': 8, 'isin': 'FR0010588343', 'fin_id': 21, 'source_id': 1, 'code': 'F0GBR04R60'}
{'id': 8, 'isin': 'FR0010588343', 'fin_id': 22, 'source_id': 2, 'code': '13105'}
updated funds list:
{'id': 1, 'isin': 'FR0000284689', 'fin_id': 7, 'source_id': 1, 'code': 'F0GBR04QCM'}
{'id': 1, 'isin': 'FR0000284689', 'fin_id': 8, 'source_id': 2, 'code': '15111'}
{'id': 2, 'isin': 'LU0099574567', 'fin_id': 9, 'source_id': 1, 'code': 'F0GBR04D20'}
{'id': 2, 'isin': 'LU0099574567', 'fin_id': 10, 'source_id': 2, 'code': '26195'}
{'id': 3, 'isin': 'FR0010135103', 'fin_id': 11, 'source_id': 1, 'code': 'F0GBR04F90'}
{'id': 3, 'isin': 'FR0010135103', 'fin_id': 12, 'source_id': 2, 'code': '9362'}
{'id': 4, 'isin': 'LU0106959298', 'fin_id': 15, 'source_id': 1, 'code': 'F0GBR04ASN'}
{'id': 4, 'isin': 'LU0106959298', 'fin_id': 16, 'source_id': 2, 'code': '27160'}
{'id': 5, 'isin': 'FR0000292278', 'fin_id': 17, 'source_id': 1, 'code': 'F0GBR04QCJ'}
{'id': 5, 'isin': 'FR0000292278', 'fin_id': 18, 'source_id': 2, 'code': '15112'}
{'id': 7, 'isin': 'FR0010902726', 'fin_id': 19, 'source_id': 1, 'code': 'F00000LHJS'}
{'id': 7, 'isin': 'FR0010902726', 'fin_id': 20, 'source_id': 2, 'code': '131744'}
{'id': 8, 'isin': 'FR0010588343', 'fin_id': 21, 'source_id': 1, 'code': 'F0GBR04R60'}
{'id': 8, 'isin': 'FR0010588343', 'fin_id': 22, 'source_id': 2, 'code': '13105'}
----------
----------fund: {'id': 1, 'isin': 'FR0000284689', 'fin_id': 7, 'source_id': 1, 'code': 'F0GBR04QCM'}
calling get_info(1, http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id=, F0GBR04QCM)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1), (snapshotTitleBox, ), (, ), (, ), 1
>>>>>result: Comgest Monde C
>>>>>result: Comgest Monde C

>>>>>item: rating
>>>>>calling lookup: (span), (rating_sprite), (1), (class), 0
>>>>>result: stars4
>>>>>moreover: x[len(x)-1:len(x)]
>>>>>result: 4

>>>>>item: lvdate
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col7), (, ), (, ), 1
>>>>>result: 14,8
>>>>>result: 14,8

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col6), (, ), (, ), 1
>>>>>result: 3,9
>>>>>result: 3,9

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col5), (, ), (, ), 1
>>>>>result: 19,4
>>>>>result: 19,4

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col4), (, ), (, ), 1
>>>>>result: 3,1
>>>>>result: 3,1

>>>>>item: benchmark
>>>>>calling lookup: (table, td, span), (overviewCalenderYearReturnsTable, footer, value), (, 1, ), (, , ), 1
>>>>>result: MSCI ACWI Growth NR USD
>>>>>result: MSCI ACWI Growth NR USD

>>>>>item: lvalue
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 2045,54
>>>>>moreover: x[x.find(u'\xa0')+1:]
>>>>>result: 2045,54

>>>>>item: currency
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 2045,54
>>>>>moreover: x[:x.find(u'\xa0')]
>>>>>result: EUR

>>>>>item: isin
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, 2), (, ), 1
>>>>>result: FR0000284689
>>>>>result: FR0000284689

>>>>>item: date_ytd
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

----------output:{'code': 'F0GBR04QCM', 'name': 'Comgest Monde C', 'rating': '4', 'lvdate': '30/04/2019', 'perf_a': '14,8', 'perf_am1': '3,9', 'perf_am2': '19,4', 'perf_am3': '3,1', 'benchmark': 'MSCI ACWI Growth NR USD', 'lvalue': '2045,54', 'currency': 'EUR', 'isin': 'FR0000284689', 'date_ytd': '30/04/2019'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating F0GBR04QCM UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (Comgest Monde C, 4, MSCI ACWI Growth NR USD, 2019-04-30, 2045.54, 1, 2019-04-30, 14.80, 3.90, 19.40, 3.10, 1, 1)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (2045.54, 1)
Last date retrieved: 2019-04-30
starts:2019-05-01 - ends:2019-04-30
----------
----------fund: {'id': 1, 'isin': 'FR0000284689', 'fin_id': 8, 'source_id': 2, 'code': '15111'}
calling get_info(2, http://www.quantalys.com/Fonds/, 15111)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1, strong), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: COMGEST MONDE C
>>>>>result: COMGEST MONDE C

>>>>>item: isin
>>>>>calling lookup: (div, h1, small), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: FR0000284689
>>>>>result: FR0000284689

>>>>>item: rating
>>>>>calling lookup: (div, div), (panel-heading, spritefonds), (, 1), (, class), 0
>>>>>result: sprite-5g
>>>>>moreover: x[len(x)-2:len(x)-1]
>>>>>result: 5

>>>>>item: lvalue
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 2 045,54  EUR
>>>>>moreover: x[:x.rfind(' ')]
>>>>>result: 2 045,54 

>>>>>item: lvdate
>>>>>calling lookup: (span), (vl-box-date), (), (), 1
>>>>>result: 09/05/2019
>>>>>result: 09/05/2019

>>>>>item: currency
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 2 045,54  EUR
>>>>>moreover: x[x.rfind(' ')+1:]
>>>>>result: EUR

>>>>>item: benchmark
>>>>>calling lookup: (dl, dd), (dl-fichier-identite, ), (, 4), (, ), 1
>>>>>result: None
>>>>>result: None

>>>>>item: date_ytd
>>>>>calling lookup: (table, td, strong), (, , ), (0, 0, ), (, , ), 1
>>>>>result: Perf. 09/05/2019
>>>>>moreover: x[x.find(' ')+1:]
>>>>>result: 09/05/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (, ), (0, 10), (, ), 1
>>>>>result: 10,91 %
>>>>>moreover: x[:-2]
>>>>>result: 10,91

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (, ), (0, 29), (, ), 1
>>>>>result: 3,88 %
>>>>>moreover: x[:-2]
>>>>>result: 3,88

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (, ), (0, 32), (, ), 1
>>>>>result: 19,36 %
>>>>>moreover: x[:-2]
>>>>>result: 19,36

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (, ), (0, 35), (, ), 1
>>>>>result: 3,13 %
>>>>>moreover: x[:-2]
>>>>>result: 3,13

----------output:{'code': '15111', 'name': 'COMGEST MONDE C', 'isin': 'FR0000284689', 'rating': '5', 'lvalue': '2 045,54 ', 'lvdate': '09/05/2019', 'currency': 'EUR', 'benchmark': 'None', 'date_ytd': '09/05/2019', 'perf_a': '10,91', 'perf_am1': '3,88', 'perf_am2': '19,36', 'perf_am3': '3,13'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating 15111 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (COMGEST MONDE C, 5, None, 2019-05-09, 2045.54, 1, 2019-05-09, 10.91, 3.88, 19.36, 3.13, 1, 2)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (2045.54, 1)
----------
----------fund: {'id': 2, 'isin': 'LU0099574567', 'fin_id': 9, 'source_id': 1, 'code': 'F0GBR04D20'}
calling get_info(1, http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id=, F0GBR04D20)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1), (snapshotTitleBox, ), (, ), (, ), 1
>>>>>result: Fidelity Funds - Global Technology Fund A-DIST-EUR
>>>>>result: Fidelity Funds - Global Technology Fund A-DIST-EUR

>>>>>item: rating
>>>>>calling lookup: (span), (rating_sprite), (1), (class), 0
>>>>>result: stars5
>>>>>moreover: x[len(x)-1:len(x)]
>>>>>result: 5

>>>>>item: lvdate
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col7), (, ), (, ), 1
>>>>>result: 29,0
>>>>>result: 29,0

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col6), (, ), (, ), 1
>>>>>result: 0,5
>>>>>result: 0,5

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col5), (, ), (, ), 1
>>>>>result: 19,4
>>>>>result: 19,4

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col4), (, ), (, ), 1
>>>>>result: 19,8
>>>>>result: 19,8

>>>>>item: benchmark
>>>>>calling lookup: (table, td, span), (overviewCalenderYearReturnsTable, footer, value), (, 1, ), (, , ), 1
>>>>>result: MSCI World/Information Tech...
>>>>>result: MSCI World/Information Tech...

>>>>>item: lvalue
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 24,86
>>>>>moreover: x[x.find(u'\xa0')+1:]
>>>>>result: 24,86

>>>>>item: currency
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 24,86
>>>>>moreover: x[:x.find(u'\xa0')]
>>>>>result: EUR

>>>>>item: isin
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, 2), (, ), 1
>>>>>result: LU0099574567
>>>>>result: LU0099574567

>>>>>item: date_ytd
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

----------output:{'code': 'F0GBR04D20', 'name': 'Fidelity Funds - Global Technology Fund A-DIST-EUR', 'rating': '5', 'lvdate': '30/04/2019', 'perf_a': '29,0', 'perf_am1': '0,5', 'perf_am2': '19,4', 'perf_am3': '19,8', 'benchmark': 'MSCI World/Information Tech...', 'lvalue': '24,86', 'currency': 'EUR', 'isin': 'LU0099574567', 'date_ytd': '30/04/2019'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating F0GBR04D20 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (Fidelity Funds - Global Technology Fund A-DIST-EUR, 5, MSCI World/Information Tech..., 2019-04-30, 24.86, 1, 2019-04-30, 29.00, 0.50, 19.40, 19.80, 2, 1)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (24.86, 2)
Last date retrieved: 2019-04-30
starts:2019-05-01 - ends:2019-04-30
----------
----------fund: {'id': 2, 'isin': 'LU0099574567', 'fin_id': 10, 'source_id': 2, 'code': '26195'}
calling get_info(2, http://www.quantalys.com/Fonds/, 26195)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1, strong), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: FF GLOBAL TECHNOLOGY A EUR
>>>>>result: FF GLOBAL TECHNOLOGY A EUR

>>>>>item: isin
>>>>>calling lookup: (div, h1, small), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: LU0099574567
>>>>>result: LU0099574567

>>>>>item: rating
>>>>>calling lookup: (div, div), (panel-heading, spritefonds), (, 1), (, class), 0
>>>>>result: sprite-5g
>>>>>moreover: x[len(x)-2:len(x)-1]
>>>>>result: 5

>>>>>item: lvalue
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 24,86  EUR
>>>>>moreover: x[:x.rfind(' ')]
>>>>>result: 24,86 

>>>>>item: lvdate
>>>>>calling lookup: (span), (vl-box-date), (), (), 1
>>>>>result: 10/05/2019
>>>>>result: 10/05/2019

>>>>>item: currency
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 24,86  EUR
>>>>>moreover: x[x.rfind(' ')+1:]
>>>>>result: EUR

>>>>>item: benchmark
>>>>>calling lookup: (dl, dd), (dl-fichier-identite, ), (, 4), (, ), 1
>>>>>result: MSCI AC World Technology (N)
>>>>>result: MSCI AC World Technology (N)

>>>>>item: date_ytd
>>>>>calling lookup: (table, td, strong), (, , ), (0, 0, ), (, , ), 1
>>>>>result: Perf. 10/05/2019
>>>>>moreover: x[x.find(' ')+1:]
>>>>>result: 10/05/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (, ), (0, 10), (, ), 1
>>>>>result: 21,86 %
>>>>>moreover: x[:-2]
>>>>>result: 21,86

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (, ), (0, 29), (, ), 1
>>>>>result: 0,49 %
>>>>>moreover: x[:-2]
>>>>>result: 0,49

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (, ), (0, 32), (, ), 1
>>>>>result: 19,41 %
>>>>>moreover: x[:-2]
>>>>>result: 19,41

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (, ), (0, 35), (, ), 1
>>>>>result: 19,80 %
>>>>>moreover: x[:-2]
>>>>>result: 19,80

----------output:{'code': '26195', 'name': 'FF GLOBAL TECHNOLOGY A EUR', 'isin': 'LU0099574567', 'rating': '5', 'lvalue': '24,86 ', 'lvdate': '10/05/2019', 'currency': 'EUR', 'benchmark': 'MSCI AC World Technology (N)', 'date_ytd': '10/05/2019', 'perf_a': '21,86', 'perf_am1': '0,49', 'perf_am2': '19,41', 'perf_am3': '19,80'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating 26195 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (FF GLOBAL TECHNOLOGY A EUR, 5, MSCI AC World Technology (N), 2019-05-10, 24.86, 1, 2019-05-10, 21.86, 0.49, 19.41, 19.80, 2, 2)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (24.86, 2)
----------
----------fund: {'id': 3, 'isin': 'FR0010135103', 'fin_id': 11, 'source_id': 1, 'code': 'F0GBR04F90'}
calling get_info(1, http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id=, F0GBR04F90)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1), (snapshotTitleBox, ), (, ), (, ), 1
>>>>>result: Carmignac Patrimoine A EUR Acc
>>>>>result: Carmignac Patrimoine A EUR Acc

>>>>>item: rating
>>>>>calling lookup: (span), (rating_sprite), (1), (class), 0
>>>>>result: stars2
>>>>>moreover: x[len(x)-1:len(x)]
>>>>>result: 2

>>>>>item: lvdate
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col7), (, ), (, ), 1
>>>>>result: 5,4
>>>>>result: 5,4

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col6), (, ), (, ), 1
>>>>>result: -11,3
>>>>>result: -11,3

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col5), (, ), (, ), 1
>>>>>result: 0,1
>>>>>result: 0,1

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col4), (, ), (, ), 1
>>>>>result: 3,9
>>>>>result: 3,9

>>>>>item: benchmark
>>>>>calling lookup: (table, td, span), (overviewCalenderYearReturnsTable, footer, value), (, 1, ), (, , ), 1
>>>>>result: Cat 50%Barclays EurAgg TR&5...
>>>>>result: Cat 50%Barclays EurAgg TR&5...

>>>>>item: lvalue
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 599,02
>>>>>moreover: x[x.find(u'\xa0')+1:]
>>>>>result: 599,02

>>>>>item: currency
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 599,02
>>>>>moreover: x[:x.find(u'\xa0')]
>>>>>result: EUR

>>>>>item: isin
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, 2), (, ), 1
>>>>>result: FR0010135103
>>>>>result: FR0010135103

>>>>>item: date_ytd
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

----------output:{'code': 'F0GBR04F90', 'name': 'Carmignac Patrimoine A EUR Acc', 'rating': '2', 'lvdate': '30/04/2019', 'perf_a': '5,4', 'perf_am1': '-11,3', 'perf_am2': '0,1', 'perf_am3': '3,9', 'benchmark': 'Cat 50%Barclays EurAgg TR&5...', 'lvalue': '599,02', 'currency': 'EUR', 'isin': 'FR0010135103', 'date_ytd': '30/04/2019'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating F0GBR04F90 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (Carmignac Patrimoine A EUR Acc, 2, Cat 50%Barclays EurAgg TR&5..., 2019-04-30, 599.02, 1, 2019-04-30, 5.40, -11.30, 0.10, 3.90, 3, 1)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (599.02, 3)
Last date retrieved: 2019-04-30
starts:2019-05-01 - ends:2019-04-30
----------
----------fund: {'id': 3, 'isin': 'FR0010135103', 'fin_id': 12, 'source_id': 2, 'code': '9362'}
calling get_info(2, http://www.quantalys.com/Fonds/, 9362)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1, strong), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: CARMIGNAC PATRIMOINE A EUR ACC
>>>>>result: CARMIGNAC PATRIMOINE A EUR ACC

>>>>>item: isin
>>>>>calling lookup: (div, h1, small), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: FR0010135103
>>>>>result: FR0010135103

>>>>>item: rating
>>>>>calling lookup: (div, div), (panel-heading, spritefonds), (, 1), (, class), 0
>>>>>result: sprite-1g
>>>>>moreover: x[len(x)-2:len(x)-1]
>>>>>result: 1

>>>>>item: lvalue
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 599,02  EUR
>>>>>moreover: x[:x.rfind(' ')]
>>>>>result: 599,02 

>>>>>item: lvdate
>>>>>calling lookup: (span), (vl-box-date), (), (), 1
>>>>>result: 09/05/2019
>>>>>result: 09/05/2019

>>>>>item: currency
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 599,02  EUR
>>>>>moreover: x[x.rfind(' ')+1:]
>>>>>result: EUR

>>>>>item: benchmark
>>>>>calling lookup: (dl, dd), (dl-fichier-identite, ), (, 4), (, ), 1
>>>>>result: 50% MSCI AC WORLD NR (USD), 50% Citigroup WGBI All Maturities Eur
>>>>>result: 50% MSCI AC WORLD NR (USD), 50% Citigroup WGBI All Maturities Eur

>>>>>item: date_ytd
>>>>>calling lookup: (table, td, strong), (, , ), (0, 0, ), (, , ), 1
>>>>>result: Perf. 09/05/2019
>>>>>moreover: x[x.find(' ')+1:]
>>>>>result: 09/05/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (, ), (0, 10), (, ), 1
>>>>>result: 3,92 %
>>>>>moreover: x[:-2]
>>>>>result: 3,92

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (, ), (0, 29), (, ), 1
>>>>>result: -11,29 %
>>>>>moreover: x[:-2]
>>>>>result: -11,29

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (, ), (0, 32), (, ), 1
>>>>>result: 0,09 %
>>>>>moreover: x[:-2]
>>>>>result: 0,09

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (, ), (0, 35), (, ), 1
>>>>>result: 3,88 %
>>>>>moreover: x[:-2]
>>>>>result: 3,88

----------output:{'code': '9362', 'name': 'CARMIGNAC PATRIMOINE A EUR ACC', 'isin': 'FR0010135103', 'rating': '1', 'lvalue': '599,02 ', 'lvdate': '09/05/2019', 'currency': 'EUR', 'benchmark': '50% MSCI AC WORLD NR\xa0(USD), 50% Citigroup WGBI All Maturities Eur', 'date_ytd': '09/05/2019', 'perf_a': '3,92', 'perf_am1': '-11,29', 'perf_am2': '0,09', 'perf_am3': '3,88'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating 9362 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (CARMIGNAC PATRIMOINE A EUR ACC, 1, 50% MSCI AC WORLD NR (USD), 50% Citigroup WGBI All Maturities Eur, 2019-05-09, 599.02, 1, 2019-05-09, 3.92, -11.29, 0.09, 3.88, 3, 2)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (599.02, 3)
----------
----------fund: {'id': 4, 'isin': 'LU0106959298', 'fin_id': 15, 'source_id': 1, 'code': 'F0GBR04ASN'}
calling get_info(1, http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id=, F0GBR04ASN)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1), (snapshotTitleBox, ), (, ), (, ), 1
>>>>>result: UBS (Lux) Equity Fund - Asian Consumption (USD) P-acc
>>>>>result: UBS (Lux) Equity Fund - Asian Consumption (USD) P-acc

>>>>>item: rating
>>>>>calling lookup: (span), (rating_sprite), (1), (class), 0
>>>>>result: stars3
>>>>>moreover: x[len(x)-1:len(x)]
>>>>>result: 3

>>>>>item: lvdate
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col7), (, ), (, ), 1
>>>>>result: 20,8
>>>>>result: 20,8

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col6), (, ), (, ), 1
>>>>>result: -11,6
>>>>>result: -11,6

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col5), (, ), (, ), 1
>>>>>result: 31,3
>>>>>result: 31,3

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col4), (, ), (, ), 1
>>>>>result: 1,2
>>>>>result: 1,2

>>>>>item: benchmark
>>>>>calling lookup: (table, td, span), (overviewCalenderYearReturnsTable, footer, value), (, 1, ), (, , ), 1
>>>>>result: Cat 50%MSCI Wld/CD NR&50%MS...
>>>>>result: Cat 50%MSCI Wld/CD NR&50%MS...

>>>>>item: lvalue
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: USD 138,47
>>>>>moreover: x[x.find(u'\xa0')+1:]
>>>>>result: 138,47

>>>>>item: currency
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: USD 138,47
>>>>>moreover: x[:x.find(u'\xa0')]
>>>>>result: USD

>>>>>item: isin
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, 2), (, ), 1
>>>>>result: LU0106959298
>>>>>result: LU0106959298

>>>>>item: date_ytd
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

----------output:{'code': 'F0GBR04ASN', 'name': 'UBS (Lux) Equity Fund - Asian Consumption (USD) P-acc', 'rating': '3', 'lvdate': '30/04/2019', 'perf_a': '20,8', 'perf_am1': '-11,6', 'perf_am2': '31,3', 'perf_am3': '1,2', 'benchmark': 'Cat 50%MSCI Wld/CD NR&50%MS...', 'lvalue': '138,47', 'currency': 'USD', 'isin': 'LU0106959298', 'date_ytd': '30/04/2019'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 2 (USD) - Taux: 1.12
updating F0GBR04ASN UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (UBS (Lux) Equity Fund - Asian Consumption (USD) P-acc, 3, Cat 50%MSCI Wld/CD NR&50%MS..., 2019-04-30, 138.47, 2, 2019-04-30, 20.80, -11.60, 31.30, 1.20, 4, 1)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (123.61, 4)
Last date retrieved: 2019-04-30
starts:2019-05-01 - ends:2019-04-30
----------
----------fund: {'id': 4, 'isin': 'LU0106959298', 'fin_id': 16, 'source_id': 2, 'code': '27160'}
calling get_info(2, http://www.quantalys.com/Fonds/, 27160)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1, strong), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: UBS EQ FD ASIAN CONSUMPTION P USD
>>>>>result: UBS EQ FD ASIAN CONSUMPTION P USD

>>>>>item: isin
>>>>>calling lookup: (div, h1, small), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: LU0106959298
>>>>>result: LU0106959298

>>>>>item: rating
>>>>>calling lookup: (div, div), (panel-heading, spritefonds), (, 1), (, class), 0
>>>>>result: sprite-5g
>>>>>moreover: x[len(x)-2:len(x)-1]
>>>>>result: 5

>>>>>item: lvalue
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 138,47  USD
>>>>>moreover: x[:x.rfind(' ')]
>>>>>result: 138,47 

>>>>>item: lvdate
>>>>>calling lookup: (span), (vl-box-date), (), (), 1
>>>>>result: 10/05/2019
>>>>>result: 10/05/2019

>>>>>item: currency
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 138,47  USD
>>>>>moreover: x[x.rfind(' ')+1:]
>>>>>result: USD

>>>>>item: benchmark
>>>>>calling lookup: (dl, dd), (dl-fichier-identite, ), (, 4), (, ), 1
>>>>>result: MSCI All Country Asia ex Japan
>>>>>result: MSCI All Country Asia ex Japan

>>>>>item: date_ytd
>>>>>calling lookup: (table, td, strong), (, , ), (0, 0, ), (, , ), 1
>>>>>result: Perf. 10/05/2019
>>>>>moreover: x[x.find(' ')+1:]
>>>>>result: 10/05/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (, ), (0, 10), (, ), 1
>>>>>result: 16,79 %
>>>>>moreover: x[:-2]
>>>>>result: 16,79

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (, ), (0, 29), (, ), 1
>>>>>result: -11,80 %
>>>>>moreover: x[:-2]
>>>>>result: -11,80

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (, ), (0, 32), (, ), 1
>>>>>result: 31,35 %
>>>>>moreover: x[:-2]
>>>>>result: 31,35

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (, ), (0, 35), (, ), 1
>>>>>result: 1,45 %
>>>>>moreover: x[:-2]
>>>>>result: 1,45

----------output:{'code': '27160', 'name': 'UBS EQ FD ASIAN CONSUMPTION P USD', 'isin': 'LU0106959298', 'rating': '5', 'lvalue': '138,47 ', 'lvdate': '10/05/2019', 'currency': 'USD', 'benchmark': 'MSCI All Country Asia ex Japan', 'date_ytd': '10/05/2019', 'perf_a': '16,79', 'perf_am1': '-11,80', 'perf_am2': '31,35', 'perf_am3': '1,45'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 2 (USD) - Taux: 1.12
updating 27160 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (UBS EQ FD ASIAN CONSUMPTION P USD, 5, MSCI All Country Asia ex Japan, 2019-05-10, 138.47, 2, 2019-05-10, 16.79, -11.80, 31.35, 1.45, 4, 2)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (123.61, 4)
----------
----------fund: {'id': 5, 'isin': 'FR0000292278', 'fin_id': 17, 'source_id': 1, 'code': 'F0GBR04QCJ'}
calling get_info(1, http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id=, F0GBR04QCJ)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1), (snapshotTitleBox, ), (, ), (, ), 1
>>>>>result: Magellan C
>>>>>result: Magellan C

>>>>>item: rating
>>>>>calling lookup: (span), (rating_sprite), (1), (class), 0
>>>>>result: stars3
>>>>>moreover: x[len(x)-1:len(x)]
>>>>>result: 3

>>>>>item: lvdate
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col7), (, ), (, ), 1
>>>>>result: 14,1
>>>>>result: 14,1

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col6), (, ), (, ), 1
>>>>>result: -16,4
>>>>>result: -16,4

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col5), (, ), (, ), 1
>>>>>result: 20,8
>>>>>result: 20,8

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col4), (, ), (, ), 1
>>>>>result: 8,3
>>>>>result: 8,3

>>>>>item: benchmark
>>>>>calling lookup: (table, td, span), (overviewCalenderYearReturnsTable, footer, value), (, 1, ), (, , ), 1
>>>>>result: MSCI EM NR USD
>>>>>result: MSCI EM NR USD

>>>>>item: lvalue
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 22,99
>>>>>moreover: x[x.find(u'\xa0')+1:]
>>>>>result: 22,99

>>>>>item: currency
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 22,99
>>>>>moreover: x[:x.find(u'\xa0')]
>>>>>result: EUR

>>>>>item: isin
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, 2), (, ), 1
>>>>>result: FR0000292278
>>>>>result: FR0000292278

>>>>>item: date_ytd
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

----------output:{'code': 'F0GBR04QCJ', 'name': 'Magellan C', 'rating': '3', 'lvdate': '30/04/2019', 'perf_a': '14,1', 'perf_am1': '-16,4', 'perf_am2': '20,8', 'perf_am3': '8,3', 'benchmark': 'MSCI EM NR USD', 'lvalue': '22,99', 'currency': 'EUR', 'isin': 'FR0000292278', 'date_ytd': '30/04/2019'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating F0GBR04QCJ UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (Magellan C, 3, MSCI EM NR USD, 2019-04-30, 22.99, 1, 2019-04-30, 14.10, -16.40, 20.80, 8.30, 5, 1)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (22.99, 5)
Last date retrieved: 2019-04-30
starts:2019-05-01 - ends:2019-04-30
----------
----------fund: {'id': 5, 'isin': 'FR0000292278', 'fin_id': 18, 'source_id': 2, 'code': '15112'}
calling get_info(2, http://www.quantalys.com/Fonds/, 15112)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1, strong), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: MAGELLAN C
>>>>>result: MAGELLAN C

>>>>>item: isin
>>>>>calling lookup: (div, h1, small), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: FR0000292278
>>>>>result: FR0000292278

>>>>>item: rating
>>>>>calling lookup: (div, div), (panel-heading, spritefonds), (, 1), (, class), 0
>>>>>result: sprite-2g
>>>>>moreover: x[len(x)-2:len(x)-1]
>>>>>result: 2

>>>>>item: lvalue
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 22,99  EUR
>>>>>moreover: x[:x.rfind(' ')]
>>>>>result: 22,99 

>>>>>item: lvdate
>>>>>calling lookup: (span), (vl-box-date), (), (), 1
>>>>>result: 09/05/2019
>>>>>result: 09/05/2019

>>>>>item: currency
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 22,99  EUR
>>>>>moreover: x[x.rfind(' ')+1:]
>>>>>result: EUR

>>>>>item: benchmark
>>>>>calling lookup: (dl, dd), (dl-fichier-identite, ), (, 4), (, ), 1
>>>>>result: None
>>>>>result: None

>>>>>item: date_ytd
>>>>>calling lookup: (table, td, strong), (, , ), (0, 0, ), (, , ), 1
>>>>>result: Perf. 09/05/2019
>>>>>moreover: x[x.find(' ')+1:]
>>>>>result: 09/05/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (, ), (0, 10), (, ), 1
>>>>>result: 8,60 %
>>>>>moreover: x[:-2]
>>>>>result: 8,60

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (, ), (0, 29), (, ), 1
>>>>>result: -16,36 %
>>>>>moreover: x[:-2]
>>>>>result: -16,36

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (, ), (0, 32), (, ), 1
>>>>>result: 20,81 %
>>>>>moreover: x[:-2]
>>>>>result: 20,81

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (, ), (0, 35), (, ), 1
>>>>>result: 8,27 %
>>>>>moreover: x[:-2]
>>>>>result: 8,27

----------output:{'code': '15112', 'name': 'MAGELLAN C', 'isin': 'FR0000292278', 'rating': '2', 'lvalue': '22,99 ', 'lvdate': '09/05/2019', 'currency': 'EUR', 'benchmark': 'None', 'date_ytd': '09/05/2019', 'perf_a': '8,60', 'perf_am1': '-16,36', 'perf_am2': '20,81', 'perf_am3': '8,27'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating 15112 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (MAGELLAN C, 2, None, 2019-05-09, 22.99, 1, 2019-05-09, 8.60, -16.36, 20.81, 8.27, 5, 2)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (22.99, 5)
----------
----------fund: {'id': 7, 'isin': 'FR0010902726', 'fin_id': 19, 'source_id': 1, 'code': 'F00000LHJS'}
calling get_info(1, http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id=, F00000LHJS)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1), (snapshotTitleBox, ), (, ), (, ), 1
>>>>>result: 29 Haussmann Euro Rendement C
>>>>>result: 29 Haussmann Euro Rendement C

>>>>>item: rating
>>>>>calling lookup: (span), (rating_sprite), (1), (class), 0
>>>>>result: stars4
>>>>>moreover: x[len(x)-1:len(x)]
>>>>>result: 4

>>>>>item: lvdate
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col7), (, ), (, ), 1
>>>>>result: 7,0
>>>>>result: 7,0

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col6), (, ), (, ), 1
>>>>>result: -5,4
>>>>>result: -5,4

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col5), (, ), (, ), 1
>>>>>result: 3,9
>>>>>result: 3,9

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col4), (, ), (, ), 1
>>>>>result: 5,3
>>>>>result: 5,3

>>>>>item: benchmark
>>>>>calling lookup: (table, td, span), (overviewCalenderYearReturnsTable, footer, value), (, 1, ), (, , ), 1
>>>>>result: Cat 75%Barclays Eu Agg&25%F...
>>>>>result: Cat 75%Barclays Eu Agg&25%F...

>>>>>item: lvalue
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 1369,76
>>>>>moreover: x[x.find(u'\xa0')+1:]
>>>>>result: 1369,76

>>>>>item: currency
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 1369,76
>>>>>moreover: x[:x.find(u'\xa0')]
>>>>>result: EUR

>>>>>item: isin
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, 2), (, ), 1
>>>>>result: FR0010902726
>>>>>result: FR0010902726

>>>>>item: date_ytd
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

----------output:{'code': 'F00000LHJS', 'name': '29 Haussmann Euro Rendement C', 'rating': '4', 'lvdate': '30/04/2019', 'perf_a': '7,0', 'perf_am1': '-5,4', 'perf_am2': '3,9', 'perf_am3': '5,3', 'benchmark': 'Cat 75%Barclays Eu Agg&25%F...', 'lvalue': '1369,76', 'currency': 'EUR', 'isin': 'FR0010902726', 'date_ytd': '30/04/2019'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating F00000LHJS UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (29 Haussmann Euro Rendement C, 4, Cat 75%Barclays Eu Agg&25%F..., 2019-04-30, 1369.76, 1, 2019-04-30, 7.00, -5.40, 3.90, 5.30, 7, 1)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (1369.76, 7)
Last date retrieved: 1991-01-01
starts:1991-02-01 - ends:2019-04-30
insert: (7, 1001.01, 2010-09-30)(7, 999.72, 2010-10-31)(7, 999.08, 2010-11-30)(7, 1001.08, 2010-12-31)(7, 999.50, 2011-01-31)(7, 1006.50, 2011-02-28)(7, 1004.10, 2011-03-31)(7, 1013.81, 2011-04-30)(7, 1019.62, 2011-05-31)(7, 1014.57, 2011-06-30)(7, 1020.87, 2011-07-31)(7, 1003.70, 2011-08-31)(7, 984.83, 2011-09-30)(7, 1012.01, 2011-10-31)(7, 988.34, 2011-11-30)(7, 1007.94, 2011-12-31)(7, 1028.70, 2012-01-31)(7, 1046.18, 2012-02-29)(7, 1051.73, 2012-03-31)(7, 1052.89, 2012-04-30)(7, 1052.81, 2012-05-31)(7, 1048.65, 2012-06-30)(7, 1062.58, 2012-07-31)(7, 1073.41, 2012-08-31)(7, 1077.43, 2012-09-30)(7, 1092.65, 2012-10-31)(7, 1101.52, 2012-11-30)(7, 1113.65, 2012-12-31)(7, 1102.18, 2013-01-31)(7, 1112.75, 2013-02-28)(7, 1122.44, 2013-03-31)(7, 1140.12, 2013-04-30)(7, 1147.23, 2013-05-31)(7, 1123.15, 2013-06-30)(7, 1137.53, 2013-07-31)(7, 1136.07, 2013-08-31)(7, 1143.71, 2013-09-30)(7, 1163.41, 2013-10-31)(7, 1170.04, 2013-11-30)(7, 1170.56, 2013-12-31)(7, 1179.25, 2014-01-31)(7, 1190.81, 2014-02-28)(7, 1196.35, 2014-03-31)(7, 1207.61, 2014-04-30)(7, 1218.93, 2014-05-31)(7, 1220.42, 2014-06-30)(7, 1219.89, 2014-07-31)(7, 1227.78, 2014-08-31)(7, 1229.34, 2014-09-30)(7, 1226.93, 2014-10-31)(7, 1240.31, 2014-11-30)(7, 1238.21, 2014-12-31)(7, 1256.36, 2015-01-31)(7, 1276.11, 2015-02-28)(7, 1280.75, 2015-03-31)(7, 1281.58, 2015-04-30)(7, 1286.27, 2015-05-31)(7, 1264.73, 2015-06-30)(7, 1274.92, 2015-07-31)(7, 1251.54, 2015-08-31)(7, 1222.78, 2015-09-30)(7, 1255.02, 2015-10-31)(7, 1264.04, 2015-11-30)(7, 1243.28, 2015-12-31)(7, 1222.09, 2016-01-31)(7, 1217.15, 2016-02-29)(7, 1245.11, 2016-03-31)(7, 1260.84, 2016-04-30)(7, 1267.18, 2016-05-31)(7, 1266.91, 2016-06-30)(7, 1294.66, 2016-07-31)(7, 1304.33, 2016-08-31)(7, 1302.72, 2016-09-30)(7, 1307.81, 2016-10-31)(7, 1298.39, 2016-11-30)(7, 1309.37, 2016-12-31)(7, 1312.69, 2017-01-31)(7, 1327.18, 2017-02-28)(7, 1332.54, 2017-03-31)(7, 1338.72, 2017-04-30)(7, 1341.92, 2017-05-31)(7, 1339.18, 2017-06-30)(7, 1343.97, 2017-07-31)(7, 1343.82, 2017-08-31)(7, 1350.48, 2017-09-30)(7, 1367.92, 2017-10-31)(7, 1363.37, 2017-11-30)(7, 1361.09, 2017-12-31)(7, 1361.15, 2018-01-31)(7, 1352.70, 2018-02-28)(7, 1339.65, 2018-03-31)(7, 1352.55, 2018-04-30)(7, 1337.02, 2018-05-31)(7, 1325.68, 2018-06-30)(7, 1341.02, 2018-07-31)(7, 1331.02, 2018-08-31)(7, 1337.78, 2018-09-30)(7, 1315.92, 2018-10-31)(7, 1295.40, 2018-11-30)(7, 1288.26, 2018-12-31)(7, 1320.46, 2019-01-31)(7, 1341.54, 2019-02-28)(7, 1360.72, 2019-03-31)(7, 1379.04, 2019-04-30)
----------
----------fund: {'id': 7, 'isin': 'FR0010902726', 'fin_id': 20, 'source_id': 2, 'code': '131744'}
calling get_info(2, http://www.quantalys.com/Fonds/, 131744)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1, strong), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: SG 29 HN - 29 HAUSM EUR RT - C - EUR - C
>>>>>result: SG 29 HN - 29 HAUSM EUR RT - C - EUR - C

>>>>>item: isin
>>>>>calling lookup: (div, h1, small), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: FR0010902726
>>>>>result: FR0010902726

>>>>>item: rating
>>>>>calling lookup: (div, div), (panel-heading, spritefonds), (, 1), (, class), 0
>>>>>result: sprite-5g
>>>>>moreover: x[len(x)-2:len(x)-1]
>>>>>result: 5

>>>>>item: lvalue
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 1 369,76  EUR
>>>>>moreover: x[:x.rfind(' ')]
>>>>>result: 1 369,76 

>>>>>item: lvdate
>>>>>calling lookup: (span), (vl-box-date), (), (), 1
>>>>>result: 09/05/2019
>>>>>result: 09/05/2019

>>>>>item: currency
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 1 369,76  EUR
>>>>>moreover: x[x.rfind(' ')+1:]
>>>>>result: EUR

>>>>>item: benchmark
>>>>>calling lookup: (dl, dd), (dl-fichier-identite, ), (, 4), (, ), 1
>>>>>result: None
>>>>>result: None

>>>>>item: date_ytd
>>>>>calling lookup: (table, td, strong), (, , ), (0, 0, ), (, , ), 1
>>>>>result: Perf. 09/05/2019
>>>>>moreover: x[x.find(' ')+1:]
>>>>>result: 09/05/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (, ), (0, 10), (, ), 1
>>>>>result: 6,33 %
>>>>>moreover: x[:-2]
>>>>>result: 6,33

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (, ), (0, 29), (, ), 1
>>>>>result: -5,35 %
>>>>>moreover: x[:-2]
>>>>>result: -5,35

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (, ), (0, 32), (, ), 1
>>>>>result: 3,95 %
>>>>>moreover: x[:-2]
>>>>>result: 3,95

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (, ), (0, 35), (, ), 1
>>>>>result: 5,32 %
>>>>>moreover: x[:-2]
>>>>>result: 5,32

----------output:{'code': '131744', 'name': 'SG 29 HN - 29 HAUSM EUR RT - C - EUR - C', 'isin': 'FR0010902726', 'rating': '5', 'lvalue': '1 369,76 ', 'lvdate': '09/05/2019', 'currency': 'EUR', 'benchmark': 'None', 'date_ytd': '09/05/2019', 'perf_a': '6,33', 'perf_am1': '-5,35', 'perf_am2': '3,95', 'perf_am3': '5,32'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating 131744 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (SG 29 HN - 29 HAUSM EUR RT - C - EUR - C, 5, None, 2019-05-09, 1369.76, 1, 2019-05-09, 6.33, -5.35, 3.95, 5.32, 7, 2)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (1369.76, 7)
----------
----------fund: {'id': 8, 'isin': 'FR0010588343', 'fin_id': 21, 'source_id': 1, 'code': 'F0GBR04R60'}
calling get_info(1, http://www.morningstar.fr/fr/funds/snapshot/snapshot.aspx?id=, F0GBR04R60)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1), (snapshotTitleBox, ), (, ), (, ), 1
>>>>>result: EdR SICAV - Tricolore Rendement A EUR
>>>>>result: EdR SICAV - Tricolore Rendement A EUR

>>>>>item: rating
>>>>>calling lookup: (span), (rating_sprite), (1), (class), 0
>>>>>result: stars1
>>>>>moreover: x[len(x)-1:len(x)]
>>>>>result: 1

>>>>>item: lvdate
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col7), (, ), (, ), 1
>>>>>result: 12,8
>>>>>result: 12,8

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col6), (, ), (, ), 1
>>>>>result: -18,4
>>>>>result: -18,4

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col5), (, ), (, ), 1
>>>>>result: 8,7
>>>>>result: 8,7

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (overviewCalenderYearReturnsTable, col4), (, ), (, ), 1
>>>>>result: 4,7
>>>>>result: 4,7

>>>>>item: benchmark
>>>>>calling lookup: (table, td, span), (overviewCalenderYearReturnsTable, footer, value), (, 1, ), (, , ), 1
>>>>>result: Euronext Paris CAC 40 NR EUR
>>>>>result: Euronext Paris CAC 40 NR EUR

>>>>>item: lvalue
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 337,56
>>>>>moreover: x[x.find(u'\xa0')+1:]
>>>>>result: 337,56

>>>>>item: currency
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, ), (, ), 1
>>>>>result: EUR 337,56
>>>>>moreover: x[:x.find(u'\xa0')]
>>>>>result: EUR

>>>>>item: isin
>>>>>calling lookup: (table, td), (overviewKeyStatsTable, line text), (, 2), (, ), 1
>>>>>result: FR0010588343
>>>>>result: FR0010588343

>>>>>item: date_ytd
>>>>>calling lookup: (table, td), (overviewPerformanceTable, titleBarNote), (, ), (, ), 1
>>>>>result: 30/04/2019
>>>>>result: 30/04/2019

----------output:{'code': 'F0GBR04R60', 'name': 'EdR SICAV - Tricolore Rendement A EUR', 'rating': '1', 'lvdate': '30/04/2019', 'perf_a': '12,8', 'perf_am1': '-18,4', 'perf_am2': '8,7', 'perf_am3': '4,7', 'benchmark': 'Euronext Paris CAC 40 NR EUR', 'lvalue': '337,56', 'currency': 'EUR', 'isin': 'FR0010588343', 'date_ytd': '30/04/2019'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating F0GBR04R60 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (EdR SICAV - Tricolore Rendement A EUR, 1, Euronext Paris CAC 40 NR EUR, 2019-04-30, 337.56, 1, 2019-04-30, 12.80, -18.40, 8.70, 4.70, 8, 1)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (337.56, 8)
Last date retrieved: 1991-01-01
starts:1991-02-01 - ends:2019-04-30
insert: (8, 75.85, 1998-12-31)(8, 77.66, 1999-01-31)(8, 79.79, 1999-02-28)(8, 83.04, 1999-03-31)(8, 85.72, 1999-04-30)(8, 87.91, 1999-05-31)(8, 91.84, 1999-06-30)(8, 89.02, 1999-07-31)(8, 95.13, 1999-08-31)(8, 96.36, 1999-09-30)(8, 97.14, 1999-10-31)(8, 99.96, 1999-11-30)(8, 103.95, 1999-12-31)(8, 102.28, 2000-01-31)(8, 99.67, 2000-02-29)(8, 102.71, 2000-03-31)(8, 105.80, 2000-04-30)(8, 110.33, 2000-05-31)(8, 113.08, 2000-06-30)(8, 118.51, 2000-07-31)(8, 123.78, 2000-08-31)(8, 120.16, 2000-09-30)(8, 121.87, 2000-10-31)(8, 125.85, 2000-11-30)(8, 129.13, 2000-12-31)(8, 133.43, 2001-01-31)(8, 135.44, 2001-02-28)(8, 133.43, 2001-03-31)(8, 138.23, 2001-04-30)(8, 141.30, 2001-05-31)(8, 141.68, 2001-06-30)(8, 143.11, 2001-07-31)(8, 142.88, 2001-08-31)(8, 127.17, 2001-09-30)(8, 132.16, 2001-10-31)(8, 135.75, 2001-11-30)(8, 138.13, 2001-12-31)(8, 141.55, 2002-01-31)(8, 144.21, 2002-02-28)(8, 151.15, 2002-03-31)(8, 154.56, 2002-04-30)(8, 157.15, 2002-05-31)(8, 149.26, 2002-06-30)(8, 140.32, 2002-07-31)(8, 139.94, 2002-08-31)(8, 123.97, 2002-09-30)(8, 129.29, 2002-10-31)(8, 135.39, 2002-11-30)(8, 130.54, 2002-12-31)(8, 127.27, 2003-01-31)(8, 119.39, 2003-02-28)(8, 113.21, 2003-03-31)(8, 128.69, 2003-04-30)(8, 131.73, 2003-05-31)(8, 135.54, 2003-06-30)(8, 141.11, 2003-07-31)(8, 143.96, 2003-08-31)(8, 141.03, 2003-09-30)(8, 148.06, 2003-10-31)(8, 151.93, 2003-11-30)(8, 155.54, 2003-12-31)(8, 160.60, 2004-01-31)(8, 167.88, 2004-02-29)(8, 167.58, 2004-03-31)(8, 169.82, 2004-04-30)(8, 168.69, 2004-05-31)(8, 175.38, 2004-06-30)(8, 174.11, 2004-07-31)(8, 173.78, 2004-08-31)(8, 176.87, 2004-09-30)(8, 178.19, 2004-10-31)(8, 181.76, 2004-11-30)(8, 188.17, 2004-12-31)(8, 196.34, 2005-01-31)(8, 201.22, 2005-02-28)(8, 200.45, 2005-03-31)(8, 196.26, 2005-04-30)(8, 205.55, 2005-05-31)(8, 212.29, 2005-06-30)(8, 218.51, 2005-07-31)(8, 218.67, 2005-08-31)(8, 226.12, 2005-09-30)(8, 217.65, 2005-10-31)(8, 221.59, 2005-11-30)(8, 226.72, 2005-12-31)(8, 232.51, 2006-01-31)(8, 234.51, 2006-02-28)(8, 243.04, 2006-03-31)(8, 243.80, 2006-04-30)(8, 236.11, 2006-05-31)(8, 240.38, 2006-06-30)(8, 240.88, 2006-07-31)(8, 247.22, 2006-08-31)(8, 250.63, 2006-09-30)(8, 254.60, 2006-10-31)(8, 256.03, 2006-11-30)(8, 264.31, 2006-12-31)(8, 270.01, 2007-01-31)(8, 264.96, 2007-02-28)(8, 274.79, 2007-03-31)(8, 285.34, 2007-04-30)(8, 295.59, 2007-05-31)(8, 293.99, 2007-06-30)(8, 284.48, 2007-07-31)(8, 280.72, 2007-08-31)(8, 282.26, 2007-09-30)(8, 287.57, 2007-10-31)(8, 279.33, 2007-11-30)(8, 276.18, 2007-12-31)(8, 248.20, 2008-01-31)(8, 247.57, 2008-02-29)(8, 244.76, 2008-03-31)(8, 255.46, 2008-04-30)(8, 260.20, 2008-05-31)(8, 236.10, 2008-06-30)(8, 234.95, 2008-07-31)(8, 240.98, 2008-08-31)(8, 222.20, 2008-09-30)(8, 204.19, 2008-10-31)(8, 199.87, 2008-11-30)(8, 197.94, 2008-12-31)(8, 187.39, 2009-01-31)(8, 175.14, 2009-02-28)(8, 179.41, 2009-03-31)(8, 199.04, 2009-04-30)(8, 206.92, 2009-05-31)(8, 198.59, 2009-06-30)(8, 211.52, 2009-07-31)(8, 224.06, 2009-08-31)(8, 233.83, 2009-09-30)(8, 222.12, 2009-10-31)(8, 225.12, 2009-11-30)(8, 238.27, 2009-12-31)(8, 232.83, 2010-01-31)(8, 228.00, 2010-02-28)(8, 240.53, 2010-03-31)(8, 237.40, 2010-04-30)(8, 225.22, 2010-05-31)(8, 218.50, 2010-06-30)(8, 227.99, 2010-07-31)(8, 221.10, 2010-08-31)(8, 231.15, 2010-09-30)(8, 240.97, 2010-10-31)(8, 228.42, 2010-11-30)(8, 238.67, 2010-12-31)(8, 250.67, 2011-01-31)(8, 254.01, 2011-02-28)(8, 247.46, 2011-03-31)(8, 254.31, 2011-04-30)(8, 254.77, 2011-05-31)(8, 251.01, 2011-06-30)(8, 231.76, 2011-07-31)(8, 209.19, 2011-08-31)(8, 190.50, 2011-09-30)(8, 204.05, 2011-10-31)(8, 197.97, 2011-11-30)(8, 199.46, 2011-12-31)(8, 209.73, 2012-01-31)(8, 216.81, 2012-02-29)(8, 213.99, 2012-03-31)(8, 200.93, 2012-04-30)(8, 188.70, 2012-05-31)(8, 201.57, 2012-06-30)(8, 206.58, 2012-07-31)(8, 213.21, 2012-08-31)(8, 213.84, 2012-09-30)(8, 218.36, 2012-10-31)(8, 223.48, 2012-11-30)(8, 228.94, 2012-12-31)(8, 238.27, 2013-01-31)(8, 238.46, 2013-02-28)(8, 241.01, 2013-03-31)(8, 247.13, 2013-04-30)(8, 258.98, 2013-05-31)(8, 247.78, 2013-06-30)(8, 263.85, 2013-07-31)(8, 256.84, 2013-08-31)(8, 270.62, 2013-09-30)(8, 282.84, 2013-10-31)(8, 282.61, 2013-11-30)(8, 284.60, 2013-12-31)(8, 281.64, 2014-01-31)(8, 298.06, 2014-02-28)(8, 300.08, 2014-03-31)(8, 302.45, 2014-04-30)(8, 307.32, 2014-05-31)(8, 300.31, 2014-06-30)(8, 290.39, 2014-07-31)(8, 295.76, 2014-08-31)(8, 294.60, 2014-09-30)(8, 275.29, 2014-10-31)(8, 292.61, 2014-11-30)(8, 287.27, 2014-12-31)(8, 309.89, 2015-01-31)(8, 333.60, 2015-02-28)(8, 341.04, 2015-03-31)(8, 342.35, 2015-04-30)(8, 347.72, 2015-05-31)(8, 335.12, 2015-06-30)(8, 351.12, 2015-07-31)(8, 327.10, 2015-08-31)(8, 311.96, 2015-09-30)(8, 339.59, 2015-10-31)(8, 345.62, 2015-11-30)(8, 334.29, 2015-12-31)(8, 316.76, 2016-01-31)(8, 305.99, 2016-02-29)(8, 311.95, 2016-03-31)(8, 312.82, 2016-04-30)(8, 320.15, 2016-05-31)(8, 296.73, 2016-06-30)(8, 315.36, 2016-07-31)(8, 315.58, 2016-08-31)(8, 319.63, 2016-09-30)(8, 324.71, 2016-10-31)(8, 328.84, 2016-11-30)(8, 349.86, 2016-12-31)(8, 340.17, 2017-01-31)(8, 348.35, 2017-02-28)(8, 368.43, 2017-03-31)(8, 377.67, 2017-04-30)(8, 388.03, 2017-05-31)(8, 379.20, 2017-06-30)(8, 380.48, 2017-07-31)(8, 374.07, 2017-08-31)(8, 392.48, 2017-09-30)(8, 390.46, 2017-10-31)(8, 383.27, 2017-11-30)(8, 380.38, 2017-12-31)(8, 390.07, 2018-01-31)(8, 382.24, 2018-02-28)(8, 371.49, 2018-03-31)(8, 385.07, 2018-04-30)(8, 376.32, 2018-05-31)(8, 365.80, 2018-06-30)(8, 371.84, 2018-07-31)(8, 360.06, 2018-08-31)(8, 361.71, 2018-09-30)(8, 337.54, 2018-10-31)(8, 333.99, 2018-11-30)(8, 310.52, 2018-12-31)(8, 319.72, 2019-01-31)(8, 331.56, 2019-02-28)(8, 333.18, 2019-03-31)(8, 350.35, 2019-04-30)
----------
----------fund: {'id': 8, 'isin': 'FR0010588343', 'fin_id': 22, 'source_id': 2, 'code': '13105'}
calling get_info(2, http://www.quantalys.com/Fonds/, 13105)
>>>>> 

>>>>>item: name
>>>>>calling lookup: (div, h1, strong), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: EDR SICAV TRICOLORE RENDEMENT A-EUR
>>>>>result: EDR SICAV TRICOLORE RENDEMENT A-EUR

>>>>>item: isin
>>>>>calling lookup: (div, h1, small), (panel-heading, , ), (, , ), (, , ), 1
>>>>>result: FR0010588343
>>>>>result: FR0010588343

>>>>>item: rating
>>>>>calling lookup: (div, div), (panel-heading, spritefonds), (, 1), (, class), 0
>>>>>result: sprite-1g
>>>>>moreover: x[len(x)-2:len(x)-1]
>>>>>result: 1

>>>>>item: lvalue
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 337,56  EUR
>>>>>moreover: x[:x.rfind(' ')]
>>>>>result: 337,56 

>>>>>item: lvdate
>>>>>calling lookup: (span), (vl-box-date), (), (), 1
>>>>>result: 09/05/2019
>>>>>result: 09/05/2019

>>>>>item: currency
>>>>>calling lookup: (span), (vl-box-value), (), (), 1
>>>>>result: 337,56  EUR
>>>>>moreover: x[x.rfind(' ')+1:]
>>>>>result: EUR

>>>>>item: benchmark
>>>>>calling lookup: (dl, dd), (dl-fichier-identite, ), (, 4), (, ), 1
>>>>>result: None
>>>>>result: None

>>>>>item: date_ytd
>>>>>calling lookup: (table, td, strong), (, , ), (0, 0, ), (, , ), 1
>>>>>result: Perf. 09/05/2019
>>>>>moreover: x[x.find(' ')+1:]
>>>>>result: 09/05/2019

>>>>>item: perf_a
>>>>>calling lookup: (table, td), (, ), (0, 10), (, ), 1
>>>>>result: 8,71 %
>>>>>moreover: x[:-2]
>>>>>result: 8,71

>>>>>item: perf_am1
>>>>>calling lookup: (table, td), (, ), (0, 29), (, ), 1
>>>>>result: -18,37 %
>>>>>moreover: x[:-2]
>>>>>result: -18,37

>>>>>item: perf_am2
>>>>>calling lookup: (table, td), (, ), (0, 32), (, ), 1
>>>>>result: 8,72 %
>>>>>moreover: x[:-2]
>>>>>result: 8,72

>>>>>item: perf_am3
>>>>>calling lookup: (table, td), (, ), (0, 35), (, ), 1
>>>>>result: 4,66 %
>>>>>moreover: x[:-2]
>>>>>result: 4,66

----------output:{'code': '13105', 'name': 'EDR SICAV TRICOLORE RENDEMENT A-EUR', 'isin': 'FR0010588343', 'rating': '1', 'lvalue': '337,56 ', 'lvdate': '09/05/2019', 'currency': 'EUR', 'benchmark': 'None', 'date_ytd': '09/05/2019', 'perf_a': '8,71', 'perf_am1': '-18,37', 'perf_am2': '8,72', 'perf_am3': '4,66'}
currency list:
{'id': 1, 'code': 'EUR', 'value': 1.0}, {'id': 2, 'code': 'USD', 'value': 1.1202}, {'id': 129, 'code': 'BGN', 'value': 1.9558}, {'id': 130, 'code': 'NZD', 'value': 1.6993}, {'id': 131, 'code': 'ILS', 'value': 4.0104}, {'id': 132, 'code': 'RUB', 'value': 73.0256}, {'id': 133, 'code': 'CAD', 'value': 1.5074}, {'id': 134, 'code': 'PHP', 'value': 58.437}, {'id': 135, 'code': 'CHF', 'value': 1.1407}, {'id': 136, 'code': 'ZAR', 'value': 16.0691}, {'id': 137, 'code': 'AUD', 'value': 1.5987}, {'id': 138, 'code': 'JPY', 'value': 123.31}, {'id': 139, 'code': 'TRY', 'value': 6.9272}, {'id': 140, 'code': 'HKD', 'value': 8.7922}, {'id': 141, 'code': 'MYR', 'value': 4.6471}, {'id': 142, 'code': 'THB', 'value': 35.622}, {'id': 143, 'code': 'HRK', 'value': 7.4093}, {'id': 144, 'code': 'NOK', 'value': 9.8285}, {'id': 145, 'code': 'IDR', 'value': 16013.26}, {'id': 146, 'code': 'DKK', 'value': 7.4657}, {'id': 147, 'code': 'CZK', 'value': 25.727}, {'id': 148, 'code': 'HUF', 'value': 324.18}, {'id': 149, 'code': 'GBP', 'value': 0.86095}, {'id': 150, 'code': 'MXN', 'value': 21.3707}, {'id': 151, 'code': 'KRW', 'value': 1313.49}, {'id': 152, 'code': 'ISK', 'value': 137.0}, {'id': 153, 'code': 'SGD', 'value': 1.5257}, {'id': 154, 'code': 'BRL', 'value': 4.4293}, {'id': 155, 'code': 'PLN', 'value': 4.2912}, {'id': 156, 'code': 'INR', 'value': 78.0805}, {'id': 157, 'code': 'RON', 'value': 4.7598}, {'id': 158, 'code': 'CNY', 'value': 7.595}, {'id': 159, 'code': 'SEK', 'value': 10.7494}
selected currency: 1 (EUR) - Taux: 1.00
updating 13105 UPDATE fin_info AS ffo SET name = %s, rating = %s, benchmark = %s, lvdate = DATE(%s), lvalue = %s, currency_id = %s,     date_ytd = DATE(%s), perf_a = %s, perf_am1 = %s, perf_am2 = %s, perf_am3 = %s WHERE ffo.fund_id = %s AND ffo.source_id = %s (EDR SICAV TRICOLORE RENDEMENT A-EUR, 1, None, 2019-05-09, 337.56, 1, 2019-05-09, 8.71, -18.37, 8.72, 4.66, 8, 2)
 UPDATE fund AS fnd SET last_lvalue = %s WHERE fnd.id = %s (337.56, 8)